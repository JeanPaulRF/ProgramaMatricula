{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport React, { useEffect, useState } from \"react\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { TextInput } from \"react-native-gesture-handler\";\nimport firebase from \"../database/firebase\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar UserDetailScreen = function UserDetailScreen(props) {\n  var initialState = {\n    id: \"\",\n    name: \"\",\n    email: \"\",\n    carne: \"\"\n  };\n  var _useState = useState(initialState),\n    _useState2 = _slicedToArray(_useState, 2),\n    user = _useState2[0],\n    setUser = _useState2[1];\n  var _useState3 = useState(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loading = _useState4[0],\n    setLoading = _useState4[1];\n  var handleTextChange = function handleTextChange(value, prop) {\n    setUser(_objectSpread(_objectSpread({}, user), {}, _defineProperty({}, prop, value)));\n  };\n  var getUserById = function () {\n    var _ref = _asyncToGenerator(function* (id) {\n      var dbRef = firebase.db.collection(\"users\").doc(id);\n      var doc = yield dbRef.get();\n      var user = doc.data();\n      setUser(_objectSpread(_objectSpread({}, user), {}, {\n        id: doc.id\n      }));\n      setLoading(false);\n    });\n    return function getUserById(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var deleteUser = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      setLoading(true);\n      var dbRef = firebase.db.collection(\"users\").doc(props.route.params.userId);\n      yield dbRef.delete();\n      setLoading(false);\n      props.navigation.navigate(\"UsersList\");\n    });\n    return function deleteUser() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var openConfirmationAlert = function openConfirmationAlert() {\n    Alert.alert(\"Removing the User\", \"Are you sure?\", [{\n      text: \"Yes\",\n      onPress: function onPress() {\n        return deleteUser();\n      }\n    }, {\n      text: \"No\",\n      onPress: function onPress() {\n        return console.log(\"canceled\");\n      }\n    }], {\n      cancelable: true\n    });\n  };\n  var updateUser = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      var userRef = firebase.db.collection(\"users\").doc(user.id);\n      yield userRef.set({\n        name: user.name,\n        email: user.email,\n        carne: user.carne\n      });\n      setUser(initialState);\n      props.navigation.navigate(\"UsersList\");\n    });\n    return function updateUser() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  useEffect(function () {\n    getUserById(props.route.params.userId);\n  }, []);\n  if (loading) {\n    return _jsx(View, {\n      style: styles.loader,\n      children: _jsx(ActivityIndicator, {\n        size: \"large\",\n        color: \"#9E9E9E\"\n      })\n    });\n  }\n  return _jsxs(ScrollView, {\n    style: styles.container,\n    children: [_jsx(View, {\n      children: _jsx(TextInput, {\n        placeholder: \"Name\",\n        autoCompleteType: \"username\",\n        style: styles.inputGroup,\n        value: user.name,\n        onChangeText: function onChangeText(value) {\n          return handleTextChange(value, \"name\");\n        }\n      })\n    }), _jsx(View, {\n      children: _jsx(TextInput, {\n        autoCompleteType: \"email\",\n        placeholder: \"Email\",\n        style: styles.inputGroup,\n        value: user.email,\n        onChangeText: function onChangeText(value) {\n          return handleTextChange(value, \"email\");\n        }\n      })\n    }), _jsx(View, {\n      children: _jsx(TextInput, {\n        placeholder: \"carne\",\n        autoCompleteType: \"tel\",\n        style: styles.inputGroup,\n        value: user.carne,\n        onChangeText: function onChangeText(value) {\n          return handleTextChange(value, \"carne\");\n        }\n      })\n    }), _jsx(View, {\n      style: styles.btn,\n      children: _jsx(Button, {\n        title: \"Delete\",\n        onPress: function onPress() {\n          return openConfirmationAlert();\n        },\n        color: \"#E37399\"\n      })\n    }), _jsx(View, {\n      children: _jsx(Button, {\n        title: \"Update\",\n        onPress: function onPress() {\n          return updateUser();\n        },\n        color: \"#19AC52\"\n      })\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 35\n  },\n  loader: {\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n    position: \"absolute\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  inputGroup: {\n    flex: 1,\n    padding: 0,\n    marginBottom: 15,\n    borderBottomWidth: 1,\n    borderBottomColor: \"#cccccc\"\n  },\n  btn: {\n    marginBottom: 7\n  }\n});\nexport default UserDetailScreen;","map":{"version":3,"names":["React","useEffect","useState","ScrollView","Button","View","Alert","ActivityIndicator","StyleSheet","TextInput","firebase","jsx","_jsx","jsxs","_jsxs","UserDetailScreen","props","initialState","id","name","email","carne","_useState","_useState2","_slicedToArray","user","setUser","_useState3","_useState4","loading","setLoading","handleTextChange","value","prop","_objectSpread","_defineProperty","getUserById","_ref","_asyncToGenerator","dbRef","db","collection","doc","get","data","_x","apply","arguments","deleteUser","_ref2","route","params","userId","delete","navigation","navigate","openConfirmationAlert","alert","text","onPress","console","log","cancelable","updateUser","_ref3","userRef","set","style","styles","loader","children","size","color","container","placeholder","autoCompleteType","inputGroup","onChangeText","btn","title","create","flex","padding","left","right","top","bottom","position","alignItems","justifyContent","marginBottom","borderBottomWidth","borderBottomColor"],"sources":["C:/Users/jeanp/Mi unidad/TEC/Semestre VIII/Proyecto/Prueba/react-native-firebase/screens/UserDetailScreen.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {\n  ScrollView,\n  Button,\n  View,\n  Alert,\n  ActivityIndicator,\n  StyleSheet,\n} from \"react-native\";\nimport { TextInput } from \"react-native-gesture-handler\";\n\nimport firebase from \"../database/firebase\";\n\nconst UserDetailScreen = (props) => {\n  const initialState = {\n    id: \"\",\n    name: \"\",\n    email: \"\",\n    carne: \"\",\n  };\n\n  const [user, setUser] = useState(initialState);\n  const [loading, setLoading] = useState(true);\n\n  const handleTextChange = (value, prop) => {\n    setUser({ ...user, [prop]: value });\n  };\n\n  const getUserById = async (id) => {\n    const dbRef = firebase.db.collection(\"users\").doc(id);\n    const doc = await dbRef.get();\n    const user = doc.data();\n    setUser({ ...user, id: doc.id });\n    setLoading(false);\n  };\n\n  const deleteUser = async () => {\n    setLoading(true)\n    const dbRef = firebase.db\n      .collection(\"users\")\n      .doc(props.route.params.userId);\n    await dbRef.delete();\n    setLoading(false)\n    props.navigation.navigate(\"UsersList\");\n  };\n\n  const openConfirmationAlert = () => {\n    Alert.alert(\n      \"Removing the User\",\n      \"Are you sure?\",\n      [\n        { text: \"Yes\", onPress: () => deleteUser() },\n        { text: \"No\", onPress: () => console.log(\"canceled\") },\n      ],\n      {\n        cancelable: true,\n      }\n    );\n  };\n\n  const updateUser = async () => {\n    const userRef = firebase.db.collection(\"users\").doc(user.id);\n    await userRef.set({\n      name: user.name,\n      email: user.email,\n      carne: user.carne,\n    });\n    setUser(initialState);\n    props.navigation.navigate(\"UsersList\");\n  };\n\n  useEffect(() => {\n    getUserById(props.route.params.userId);\n  }, []);\n\n  if (loading) {\n    return (\n      <View style={styles.loader}>\n        <ActivityIndicator size=\"large\" color=\"#9E9E9E\" />\n      </View>\n    );\n  }\n\n  return (\n    <ScrollView style={styles.container}>\n      <View>\n        <TextInput\n          placeholder=\"Name\"\n          autoCompleteType=\"username\"\n          style={styles.inputGroup}\n          value={user.name}\n          onChangeText={(value) => handleTextChange(value, \"name\")}\n        />\n      </View>\n      <View>\n        <TextInput\n          autoCompleteType=\"email\"\n          placeholder=\"Email\"\n          style={styles.inputGroup}\n          value={user.email}\n          onChangeText={(value) => handleTextChange(value, \"email\")}\n        />\n      </View>\n      <View>\n        <TextInput\n          placeholder=\"carne\"\n          autoCompleteType=\"tel\"\n          style={styles.inputGroup}\n          value={user.carne}\n          onChangeText={(value) => handleTextChange(value, \"carne\")}\n        />\n      </View>\n      <View style={styles.btn}>\n        <Button\n          title=\"Delete\"\n          onPress={() => openConfirmationAlert()}\n          color=\"#E37399\"\n        />\n      </View>\n      <View>\n        <Button title=\"Update\" onPress={() => updateUser()} color=\"#19AC52\" />\n      </View>\n    </ScrollView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 35,\n  },\n  loader: {\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n    position: \"absolute\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  inputGroup: {\n    flex: 1,\n    padding: 0,\n    marginBottom: 15,\n    borderBottomWidth: 1,\n    borderBottomColor: \"#cccccc\",\n  },\n  btn: {\n    marginBottom: 7,\n  },\n});\n\nexport default UserDetailScreen;\n"],"mappings":";;;;;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAAC,OAAAC,UAAA;AAAA,OAAAC,MAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,KAAA;AAAA,OAAAC,iBAAA;AAAA,OAAAC,UAAA;AASnD,SAASC,SAAS,QAAQ,8BAA8B;AAExD,OAAOC,QAAQ;AAA6B,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAE5C,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAIC,KAAK,EAAK;EAClC,IAAMC,YAAY,GAAG;IACnBC,EAAE,EAAE,EAAE;IACNC,IAAI,EAAE,EAAE;IACRC,KAAK,EAAE,EAAE;IACTC,KAAK,EAAE;EACT,CAAC;EAED,IAAAC,SAAA,GAAwBpB,QAAQ,CAACe,YAAY,CAAC;IAAAM,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAvCG,IAAI,GAAAF,UAAA;IAAEG,OAAO,GAAAH,UAAA;EACpB,IAAAI,UAAA,GAA8BzB,QAAQ,CAAC,IAAI,CAAC;IAAA0B,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAArCE,OAAO,GAAAD,UAAA;IAAEE,UAAU,GAAAF,UAAA;EAE1B,IAAMG,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAIC,KAAK,EAAEC,IAAI,EAAK;IACxCP,OAAO,CAAAQ,aAAA,CAAAA,aAAA,KAAMT,IAAI,OAAAU,eAAA,KAAGF,IAAI,EAAGD,KAAK,EAAE,CAAC;EACrC,CAAC;EAED,IAAMI,WAAW;IAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,WAAOpB,EAAE,EAAK;MAChC,IAAMqB,KAAK,GAAG7B,QAAQ,CAAC8B,EAAE,CAACC,UAAU,CAAC,OAAO,CAAC,CAACC,GAAG,CAACxB,EAAE,CAAC;MACrD,IAAMwB,GAAG,SAASH,KAAK,CAACI,GAAG,CAAC,CAAC;MAC7B,IAAMlB,IAAI,GAAGiB,GAAG,CAACE,IAAI,CAAC,CAAC;MACvBlB,OAAO,CAAAQ,aAAA,CAAAA,aAAA,KAAMT,IAAI;QAAEP,EAAE,EAAEwB,GAAG,CAACxB;MAAE,EAAE,CAAC;MAChCY,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC;IAAA,gBANKM,WAAWA,CAAAS,EAAA;MAAA,OAAAR,IAAA,CAAAS,KAAA,OAAAC,SAAA;IAAA;EAAA,GAMhB;EAED,IAAMC,UAAU;IAAA,IAAAC,KAAA,GAAAX,iBAAA,CAAG,aAAY;MAC7BR,UAAU,CAAC,IAAI,CAAC;MAChB,IAAMS,KAAK,GAAG7B,QAAQ,CAAC8B,EAAE,CACtBC,UAAU,CAAC,OAAO,CAAC,CACnBC,GAAG,CAAC1B,KAAK,CAACkC,KAAK,CAACC,MAAM,CAACC,MAAM,CAAC;MACjC,MAAMb,KAAK,CAACc,MAAM,CAAC,CAAC;MACpBvB,UAAU,CAAC,KAAK,CAAC;MACjBd,KAAK,CAACsC,UAAU,CAACC,QAAQ,CAAC,WAAW,CAAC;IACxC,CAAC;IAAA,gBARKP,UAAUA,CAAA;MAAA,OAAAC,KAAA,CAAAH,KAAA,OAAAC,SAAA;IAAA;EAAA,GAQf;EAED,IAAMS,qBAAqB,GAAG,SAAxBA,qBAAqBA,CAAA,EAAS;IAClClD,KAAK,CAACmD,KAAK,CACT,mBAAmB,EACnB,eAAe,EACf,CACE;MAAEC,IAAI,EAAE,KAAK;MAAEC,OAAO,EAAE,SAAAA,QAAA;QAAA,OAAMX,UAAU,CAAC,CAAC;MAAA;IAAC,CAAC,EAC5C;MAAEU,IAAI,EAAE,IAAI;MAAEC,OAAO,EAAE,SAAAA,QAAA;QAAA,OAAMC,OAAO,CAACC,GAAG,CAAC,UAAU,CAAC;MAAA;IAAC,CAAC,CACvD,EACD;MACEC,UAAU,EAAE;IACd,CACF,CAAC;EACH,CAAC;EAED,IAAMC,UAAU;IAAA,IAAAC,KAAA,GAAA1B,iBAAA,CAAG,aAAY;MAC7B,IAAM2B,OAAO,GAAGvD,QAAQ,CAAC8B,EAAE,CAACC,UAAU,CAAC,OAAO,CAAC,CAACC,GAAG,CAACjB,IAAI,CAACP,EAAE,CAAC;MAC5D,MAAM+C,OAAO,CAACC,GAAG,CAAC;QAChB/C,IAAI,EAAEM,IAAI,CAACN,IAAI;QACfC,KAAK,EAAEK,IAAI,CAACL,KAAK;QACjBC,KAAK,EAAEI,IAAI,CAACJ;MACd,CAAC,CAAC;MACFK,OAAO,CAACT,YAAY,CAAC;MACrBD,KAAK,CAACsC,UAAU,CAACC,QAAQ,CAAC,WAAW,CAAC;IACxC,CAAC;IAAA,gBATKQ,UAAUA,CAAA;MAAA,OAAAC,KAAA,CAAAlB,KAAA,OAAAC,SAAA;IAAA;EAAA,GASf;EAED9C,SAAS,CAAC,YAAM;IACdmC,WAAW,CAACpB,KAAK,CAACkC,KAAK,CAACC,MAAM,CAACC,MAAM,CAAC;EACxC,CAAC,EAAE,EAAE,CAAC;EAEN,IAAIvB,OAAO,EAAE;IACX,OACEjB,IAAA,CAACP,IAAI;MAAC8D,KAAK,EAAEC,MAAM,CAACC,MAAO;MAAAC,QAAA,EACzB1D,IAAA,CAACL,iBAAiB;QAACgE,IAAI,EAAC,OAAO;QAACC,KAAK,EAAC;MAAS,CAAE;IAAC,CAC9C,CAAC;EAEX;EAEA,OACE1D,KAAA,CAACX,UAAU;IAACgE,KAAK,EAAEC,MAAM,CAACK,SAAU;IAAAH,QAAA,GAClC1D,IAAA,CAACP,IAAI;MAAAiE,QAAA,EACH1D,IAAA,CAACH,SAAS;QACRiE,WAAW,EAAC,MAAM;QAClBC,gBAAgB,EAAC,UAAU;QAC3BR,KAAK,EAAEC,MAAM,CAACQ,UAAW;QACzB5C,KAAK,EAAEP,IAAI,CAACN,IAAK;QACjB0D,YAAY,EAAE,SAAAA,aAAC7C,KAAK;UAAA,OAAKD,gBAAgB,CAACC,KAAK,EAAE,MAAM,CAAC;QAAA;MAAC,CAC1D;IAAC,CACE,CAAC,EACPpB,IAAA,CAACP,IAAI;MAAAiE,QAAA,EACH1D,IAAA,CAACH,SAAS;QACRkE,gBAAgB,EAAC,OAAO;QACxBD,WAAW,EAAC,OAAO;QACnBP,KAAK,EAAEC,MAAM,CAACQ,UAAW;QACzB5C,KAAK,EAAEP,IAAI,CAACL,KAAM;QAClByD,YAAY,EAAE,SAAAA,aAAC7C,KAAK;UAAA,OAAKD,gBAAgB,CAACC,KAAK,EAAE,OAAO,CAAC;QAAA;MAAC,CAC3D;IAAC,CACE,CAAC,EACPpB,IAAA,CAACP,IAAI;MAAAiE,QAAA,EACH1D,IAAA,CAACH,SAAS;QACRiE,WAAW,EAAC,OAAO;QACnBC,gBAAgB,EAAC,KAAK;QACtBR,KAAK,EAAEC,MAAM,CAACQ,UAAW;QACzB5C,KAAK,EAAEP,IAAI,CAACJ,KAAM;QAClBwD,YAAY,EAAE,SAAAA,aAAC7C,KAAK;UAAA,OAAKD,gBAAgB,CAACC,KAAK,EAAE,OAAO,CAAC;QAAA;MAAC,CAC3D;IAAC,CACE,CAAC,EACPpB,IAAA,CAACP,IAAI;MAAC8D,KAAK,EAAEC,MAAM,CAACU,GAAI;MAAAR,QAAA,EACtB1D,IAAA,CAACR,MAAM;QACL2E,KAAK,EAAC,QAAQ;QACdpB,OAAO,EAAE,SAAAA,QAAA;UAAA,OAAMH,qBAAqB,CAAC,CAAC;QAAA,CAAC;QACvCgB,KAAK,EAAC;MAAS,CAChB;IAAC,CACE,CAAC,EACP5D,IAAA,CAACP,IAAI;MAAAiE,QAAA,EACH1D,IAAA,CAACR,MAAM;QAAC2E,KAAK,EAAC,QAAQ;QAACpB,OAAO,EAAE,SAAAA,QAAA;UAAA,OAAMI,UAAU,CAAC,CAAC;QAAA,CAAC;QAACS,KAAK,EAAC;MAAS,CAAE;IAAC,CAClE,CAAC;EAAA,CACG,CAAC;AAEjB,CAAC;AAED,IAAMJ,MAAM,GAAG5D,UAAU,CAACwE,MAAM,CAAC;EAC/BP,SAAS,EAAE;IACTQ,IAAI,EAAE,CAAC;IACPC,OAAO,EAAE;EACX,CAAC;EACDb,MAAM,EAAE;IACNc,IAAI,EAAE,CAAC;IACPC,KAAK,EAAE,CAAC;IACRC,GAAG,EAAE,CAAC;IACNC,MAAM,EAAE,CAAC;IACTC,QAAQ,EAAE,UAAU;IACpBC,UAAU,EAAE,QAAQ;IACpBC,cAAc,EAAE;EAClB,CAAC;EACDb,UAAU,EAAE;IACVK,IAAI,EAAE,CAAC;IACPC,OAAO,EAAE,CAAC;IACVQ,YAAY,EAAE,EAAE;IAChBC,iBAAiB,EAAE,CAAC;IACpBC,iBAAiB,EAAE;EACrB,CAAC;EACDd,GAAG,EAAE;IACHY,YAAY,EAAE;EAChB;AACF,CAAC,CAAC;AAEF,eAAe3E,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}